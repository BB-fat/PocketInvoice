<!--index.wxml-->
<view class='mainview' style='height:{{windowHeight}}px'>
  <view class='title' style='height:{{windowHeight*0.08}}px'>
    <view class='title_text'>发票夹</view>
    <image wx:if='{{!shaixuan}}' src='shaixuan.png' class='shaixuan' bindtap='shaixuan'></image>
    <image wx:else src='_shaixuan.png' class='shaixuan' bindtap='shaixuan'></image>
    <image wx:if='{{!piliang}}' src='piliang.png' class='piliang' bindtap='piliang'></image>
    <image wx:else src='_piliang.png' class='piliang' bindtap='piliang'></image>
  </view>
  <!-- 筛选模块 -->
  <view wx:if='{{shaixuan}}' class='mode' style='height:{{windowHeight*0.08}}px'>
    <view class='riqi'>日期</view>
    <view class='fuhao'>
      <image src='bluetriangle.png' class='bluetriangle'></image>
    </view>
    <picker class='_shaixuan' wx:if='{{shaixuan==true}}' mode='date' fields='month' value='{{date}}' bindchange='changedate'>
      <view wx:if='{{date==0}}'>选择月份</view>
      <view wx:else>{{date}}</view>
    </picker>
    <picker class='_shaixuan' wx:if='{{shaixuan==true}}' mode='selector'range='{{["全部","增值税电子普通发票","增值税普通发票","增值税专用发票"]}}' bindchange='changezl' style='margin-left: 40rpx;font-size:25rpx;'>
    <view wx:if='{{zl==0}}'>选择发票种类</view>
    <view wx:elif='{{zl==1}}'>增值税电子普通发票</view>
    <view wx:elif='{{zl==2}}'>增值税普通发票</view>
    <view wx:elif='{{zl==3}}'>增值税专用发票</view>
    </picker>
    <button class='all' wx:if='{{date!=0}}' bindtap='all'>全部发票</button>
  </view>

  <!-- 当用户发票夹中有数据的时候才渲染发票 -->
  <scroll-view class='invoices' scroll-y='true' enable-back-to-top='true' wx:if="{{pocket!=''}}" style='height: {{scroll_height}}px'>
    <view wx:if='{{piliang}}'>
      <view class='choosebuttonview' wx:if='{{!chooseall}}'>
        <button class='choosebutton' bindtap='chooseall'>全选所有</button>
        <button class='choosebutton' bindtap='choosechecked'>全选已查</button>
        <button class='choosebutton' bindtap='chooseunchecked'>全选未查</button>
      </view>
      <button wx:else class='unchoosebutton' bindtap='chooseall'>取消全选</button>
    </view>
    <view class='one' wx:for="{{pocket}}" class='invoice' bindtap='{{fun_one}}' data-id='{{index}}' bindlongtap='piliang'>
      <checkbox wx:if='{{piliang}}' class='check' checked='{{checked[index]}}' data-id='{{index}}'></checkbox>
      <view class='oneinvoice' style='background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAv4AAAD7CAYAAAASN5AjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKnmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIiB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOCAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDE5LTAxLTI5VDIzOjA0OjQzKzA4OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAxOS0wMS0zMFQxOToxNTo0MyswODowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOS0wMS0zMFQxOToxNTo0MyswODowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowZDg4MTM0Zi0zYTJkLTU0NDMtODYyMi1lYTQ0ZGFkNGYyYTQiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo3MmNlM2UyMi00N2EzLTVhNDktYTljYy1mMmEwNmY2ZTEyMDYiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0NDY0NjkwMC02MmM5LWFjNGEtYTBlOC1kYmI4YWNiYWIxY2YiIHRpZmY6T3JpZW50YXRpb249IjEiIHRpZmY6WFJlc29sdXRpb249IjcyMDAwMC8xMDAwMCIgdGlmZjpZUmVzb2x1dGlvbj0iNzIwMDAwLzEwMDAwIiB0aWZmOlJlc29sdXRpb25Vbml0PSIyIiBleGlmOkNvbG9yU3BhY2U9IjY1NTM1IiBleGlmOlBpeGVsWERpbWVuc2lvbj0iNzUwIiBleGlmOlBpeGVsWURpbWVuc2lvbj0iMTMzNCI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6NDQ2NDY5MDAtNjJjOS1hYzRhLWEwZTgtZGJiOGFjYmFiMWNmIiBzdEV2dDp3aGVuPSIyMDE5LTAxLTI5VDIzOjA0OjQzKzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOCAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjA2YzViYzg0LWJjYmItOTE0OC05YzU1LWY2MjA4OWFhZmZlOSIgc3RFdnQ6d2hlbj0iMjAxOS0wMS0zMFQxOToxNDoyMiswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjb252ZXJ0ZWQiIHN0RXZ0OnBhcmFtZXRlcnM9ImZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmciLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImRlcml2ZWQiIHN0RXZ0OnBhcmFtZXRlcnM9ImNvbnZlcnRlZCBmcm9tIGFwcGxpY2F0aW9uL3ZuZC5hZG9iZS5waG90b3Nob3AgdG8gaW1hZ2UvcG5nIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDoxNzliY2M3Zi0zYzZkLWY3NDEtYWJiOS0zNjJjN2QzODc2OTciIHN0RXZ0OndoZW49IjIwMTktMDEtMzBUMTk6MTQ6MjIrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE4IChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MGQ4ODEzNGYtM2EyZC01NDQzLTg2MjItZWE0NGRhZDRmMmE0IiBzdEV2dDp3aGVuPSIyMDE5LTAxLTMwVDE5OjE1OjQzKzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOCAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjA2YzViYzg0LWJjYmItOTE0OC05YzU1LWY2MjA4OWFhZmZlOSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0NDY0NjkwMC02MmM5LWFjNGEtYTBlOC1kYmI4YWNiYWIxY2YiIHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0NDY0NjkwMC02MmM5LWFjNGEtYTBl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")'>
        <view style='height:40rpx'></view>
        <view class='line'>
          <view class='index'>发票类型</view>
          <view class='fp'>{{item.fp_zl}}</view>
        </view>
        <view class='line'>
          <view class='index'>发票号码</view>
          <view class='fp'>{{item.fp_hm}}</view>
        </view>
        <view class='line'>
          <view class='index'>开票金额</view>
          <view class='fp'>{{item.kp_je}}</view>
        </view>
        <view class='line'>
          <view class='index'>开票日期</view>
          <view class='fp'>{{item.kp_rq}}</view>
        </view>
        <view class='line'>
          <view class='index'>查验状态</view>
          <view class='state0' wx:if='{{item.state==0}}'>未查验</view>
          <view wx:else class='state1'>已查验</view>
        </view>
      </view>
    </view>
  </scroll-view>
  <!-- 用户发票夹为空 -->
  <view wx:elif='{{pocket==""&&shaixuan==false}}' style='align-self:center;margin-top:40rpx;color:#848484;height:{{windowHeight*0.73}}px'>——您的发票夹是空的——</view>
  <view wx:else style='align-self:center;margin-top:40rpx;color:#848484;height:{{windowHeight*0.73}}px'>——查无发票——</view>
  <!-- 批处理模块 -->
  <view wx:if='{{piliang}}' class='mode' style='height:{{windowHeight*0.08}}px'>
    <button class='_piliang' style='color:#368299' bindtap='checkall'>一键查验</button>
    <button class='_piliang' bindtap='excel'>生成统计表</button>
    <button class='_piliang' style='color:#ED7085' bindtap='deleteall'>删除</button>
  </view>
</view>